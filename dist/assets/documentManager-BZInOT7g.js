import{ag as ne,s as I,v as T,N as M,B as S,J as D,b as l,ah as se,ai as re,$ as j,aj as oe,a8 as B,I as ie,T as ue,x as Y,D as $,E as P,X as de,G as ee,Z as ce,K as g,L as te,F as E,ak as me,al as fe,a4 as ve,am as ge,r as he,a6 as ye,an as pe,Q,ac as Ce,ao as O,a2 as xe,ap as be,aq as Ve,M as ke,z as we,ar as Pe,as as Fe,U as _e,W as Ee,at as Be,O as Ie,H as Se,au as De,av as Le,_ as Te,p as U,o as m,f as C,w as n,d,aw as Ae,V as F,ax as Re,ay as Me,az as H,c as w,l as L,aA as z,aB as N,t as b,aC as W,aD as ze,aE as Ne,af as q,i as Z,j as je,k as G,a as _,n as Qe}from"./index-BtbbZjYl.js";import{b as J,a as A,V as R}from"./VCard-D0cE-0iR.js";import{g as Oe}from"./VTextField-C99Siv7Q.js";const K=ne("v-spacer","div","VSpacer"),Ue=I({start:Boolean,end:Boolean,...T(),...M()},"VListItemAction"),X=S()({name:"VListItemAction",props:Ue(),setup(e,t){let{slots:s}=t;return D(()=>l(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},s)),{}}}),He=I({divider:[Number,String],...T()},"VBreadcrumbsDivider"),We=S()({name:"VBreadcrumbsDivider",props:He(),setup(e,t){let{slots:s}=t;return D(()=>{var i;return l("li",{class:["v-breadcrumbs-divider",e.class],style:e.style},[((i=s==null?void 0:s.default)==null?void 0:i.call(s))??e.divider])}),{}}}),qe=I({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...T(),...se(),...M({tag:"li"})},"VBreadcrumbsItem"),le=S()({name:"VBreadcrumbsItem",props:qe(),setup(e,t){let{slots:s,attrs:i}=t;const r=re(e,i),o=j(()=>{var u;return e.active||((u=r.isActive)==null?void 0:u.value)}),c=j(()=>o.value?e.activeColor:e.color),{textColorClasses:y,textColorStyles:a}=oe(c);return D(()=>l(e.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":o.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:o.value&&e.activeClass},y.value,e.class],style:[a.value,e.style],"aria-current":o.value?"page":void 0},{default:()=>{var u,f;return[r.isLink.value?l("a",B({class:"v-breadcrumbs-item--link",onClick:r.navigate},r.linkProps),[((f=s.default)==null?void 0:f.call(s))??e.title]):((u=s.default)==null?void 0:u.call(s))??e.title]}})),{}}}),Ze=I({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:ie,items:{type:Array,default:()=>[]},...T(),...ue(),...Y(),...M({tag:"ul"})},"VBreadcrumbs"),Ge=S()({name:"VBreadcrumbs",props:Ze(),setup(e,t){let{slots:s}=t;const{backgroundColorClasses:i,backgroundColorStyles:r}=$(P(e,"bgColor")),{densityClasses:o}=de(e),{roundedClasses:c}=ee(e);ce({VBreadcrumbsDivider:{divider:P(e,"divider")},VBreadcrumbsItem:{activeClass:P(e,"activeClass"),activeColor:P(e,"activeColor"),color:P(e,"color"),disabled:P(e,"disabled")}});const y=j(()=>e.items.map(a=>typeof a=="string"?{item:{title:a},raw:a}:{item:a,raw:a}));return D(()=>{const a=!!(s.prepend||e.icon);return l(e.tag,{class:["v-breadcrumbs",i.value,o.value,c.value,e.class],style:[r.value,e.style]},{default:()=>{var u;return[a&&l("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[s.prepend?l(te,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},s.prepend):l(g,{key:"prepend-icon",start:!0,icon:e.icon},null)]),y.value.map((f,v,V)=>{var p;let{item:h,raw:k}=f;return l(E,null,[((p=s.item)==null?void 0:p.call(s,{item:h,index:v}))??l(le,B({key:v,disabled:v>=V.length-1},typeof h=="string"?{title:h}:h),{default:s.title?()=>{var x;return(x=s.title)==null?void 0:x.call(s,{item:h,index:v})}:void 0}),v<V.length-1&&l(We,null,{default:s.divider?()=>{var x;return(x=s.divider)==null?void 0:x.call(s,{item:k,index:v})}:void 0})])}),(u=s.default)==null?void 0:u.call(s)]}})}),{}}}),Je=I({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...me({origin:"center center",scrollStrategy:"block",transition:{component:fe},zIndex:2400})},"VDialog"),Ke=S()({name:"VDialog",props:Je(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:s,slots:i}=t;const r=ve(e,"modelValue"),{scopeId:o}=ge(),c=he();function y(f){var h,k;const v=f.relatedTarget,V=f.target;if(v!==V&&((h=c.value)!=null&&h.contentEl)&&((k=c.value)!=null&&k.globalTop)&&![document,c.value.contentEl].includes(V)&&!c.value.contentEl.contains(V)){const p=be(c.value.contentEl);if(!p.length)return;const x=p[0],ae=p[p.length-1];v===x?ae.focus():x.focus()}}ye(()=>{document.removeEventListener("focusin",y)}),pe&&Q(()=>r.value&&e.retainFocus,f=>{f?document.addEventListener("focusin",y):document.removeEventListener("focusin",y)},{immediate:!0});function a(){var f;s("afterEnter"),(f=c.value)!=null&&f.contentEl&&!c.value.contentEl.contains(document.activeElement)&&c.value.contentEl.focus({preventScroll:!0})}function u(){s("afterLeave")}return Q(r,async f=>{var v;f||(await Ce(),(v=c.value.activatorEl)==null||v.focus({preventScroll:!0}))}),D(()=>{const f=O.filterProps(e),v=B({"aria-haspopup":"dialog"},e.activatorProps),V=B({tabindex:-1},e.contentProps);return l(O,B({ref:c,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},f,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,"aria-modal":"true",activatorProps:v,contentProps:V,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:a,onAfterLeave:u},o),{activator:i.activator,default:function(){for(var h=arguments.length,k=new Array(h),p=0;p<h;p++)k[p]=arguments[p];return l(te,{root:"VDialog"},{default:()=>{var x;return[(x=i.default)==null?void 0:x.call(i,...k)]}})}})}),xe({},c)}}),Xe=I({color:String,...Ve(),...T(),...ke(),...we(),...Pe(),...Fe(),...Y(),...M(),..._e()},"VSheet"),Ye=S()({name:"VSheet",props:Xe(),setup(e,t){let{slots:s}=t;const{themeClasses:i}=Ee(e),{backgroundColorClasses:r,backgroundColorStyles:o}=$(P(e,"color")),{borderClasses:c}=Be(e),{dimensionStyles:y}=Ie(e),{elevationClasses:a}=Se(e),{locationStyles:u}=De(e),{positionClasses:f}=Le(e),{roundedClasses:v}=ee(e);return D(()=>l(e.tag,{class:["v-sheet",i.value,r.value,c.value,a.value,f.value,v.value,e.class],style:[o.value,y.value,u.value,e.style]},s)),{}}}),dt={folders:[{name:"Documents",path:"/documents",folders:[{name:"Reports",path:"/documents/reports",folders:[],files:[{name:"Report-2024.pdf",path:"/documents/reports/report-2024.pdf"}]}],files:[{name:"Guide.pdf",path:"/documents/guide.pdf"},{name:"README.txt",path:"/documents/readme.txt"}]}]},$e={name:"DocumentExplorer",props:{fileStructure:{type:Object,required:!0},basePath:{type:String,default:"/documents"}},data(){return{currentPath:"/",searchQuery:"",viewMode:"list",sortBy:"name",previewDialog:!1,selectedFile:null,fileContent:null,fileIcons:{pdf:{icon:"mdi-file-pdf-box",color:"red"},doc:{icon:"mdi-file-word",color:"blue"},docx:{icon:"mdi-file-word",color:"blue"},xls:{icon:"mdi-file-excel",color:"green"},xlsx:{icon:"mdi-file-excel",color:"green"},ppt:{icon:"mdi-file-powerpoint",color:"orange"},pptx:{icon:"mdi-file-powerpoint",color:"orange"},txt:{icon:"mdi-file-document-outline",color:"grey"},jpg:{icon:"mdi-file-image",color:"purple"},jpeg:{icon:"mdi-file-image",color:"purple"},png:{icon:"mdi-file-image",color:"purple"},zip:{icon:"mdi-folder-zip",color:"brown"},default:{icon:"mdi-file-outline",color:"grey"}},sortOptions:[{text:"Name (A to Z)",value:"name"},{text:"Name (Z to A)",value:"name-desc"},{text:"Type",value:"type"},{text:"Date Modified",value:"date"}]}},computed:{breadcrumbItems(){const e=this.currentPath.split("/").filter(t=>t);return[{text:"Home",path:"/",disabled:this.currentPath==="/"},...e.map((t,s)=>{const i="/"+e.slice(0,s+1).join("/");return{text:t,path:i,disabled:i===this.currentPath}})]},currentContent(){let e=this.fileStructure;const t=this.currentPath.split("/").filter(s=>s);for(const s of t){const i=e.folders.find(r=>r.name.toLowerCase()===s.toLowerCase());if(i)e=i;else return{folders:[],files:[]}}return e},filteredContent(){if(!this.searchQuery)return this.currentContent;const e=this.searchQuery.toLowerCase();return{folders:this.currentContent.folders.filter(t=>t.name.toLowerCase().includes(e)),files:this.currentContent.files.filter(t=>t.name.toLowerCase().includes(e))}},sortedContent(){const e={folders:[],files:[]},t=(s,i)=>{switch(this.sortBy){case"name":return s.name.localeCompare(i.name);case"name-desc":return i.name.localeCompare(s.name);case"type":return this.getFileExtension(s.name).localeCompare(this.getFileExtension(i.name));case"date":return 0;default:return 0}};return e.folders.sort(t),e.files.sort(t),e},isEmpty(){return(this.sortedContent.folders||[]).length===0&&(this.sortedContent.files||[]).length===0},isPreviewablePDF(){return this.selectedFile&&this.getFileExtension(this.selectedFile.name)==="pdf"},isPreviewableImage(){const e=this.selectedFile&&this.getFileExtension(this.selectedFile.name);return["jpg","jpeg","png","gif"].includes(e)},isPreviewableText(){const e=this.selectedFile&&this.getFileExtension(this.selectedFile.name);return["txt","md","json","csv"].includes(e)}},methods:{openFolder(e){this.currentPath=e,this.searchQuery=""},navigateTo(e){this.currentPath=e,this.searchQuery=""},getFileExtension(e){return e.split(".").pop().toLowerCase()},getFileIcon(e){const t=this.getFileExtension(e);return(this.fileIcons[t]||this.fileIcons.default).icon},getFileIconColor(e){const t=this.getFileExtension(e);return(this.fileIcons[t]||this.fileIcons.default).color},getFileType(e){return this.getFileExtension(e).toUpperCase()+" File"},async previewFile(e){if(this.selectedFile=e,this.fileContent=null,this.previewDialog=!0,this.isPreviewableText)try{const t=await fetch(e.path);this.fileContent=await t.text()}catch(t){console.error("Error loading file content:",t),this.fileContent="Error loading file content"}}}},et={class:"text-truncate mt-2"},tt={class:"text-truncate mt-2"},lt={class:"text-h6 grey--text text--darken-1 mt-4"},at={class:"preview-container"},nt=["src"],st={key:3,class:"text-center pa-4"};function rt(e,t,s,i,r,o){const c=U("v-list-item-icon"),y=U("v-list-item-content");return m(),C(R,{class:"document-explorer"},{default:n(()=>[l(J,{class:"d-flex align-center flex-wrap"},{default:n(()=>[t[10]||(t[10]=d(" Document Explorer ")),l(K),l(Oe,{modelValue:r.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=a=>r.searchQuery=a),"append-icon":"mdi-magnify",label:"Search files","single-line":"","hide-details":"",dense:"",class:"mx-4",style:{"max-width":"300px"}},null,8,["modelValue"]),l(Ae,{modelValue:r.viewMode,"onUpdate:modelValue":t[1]||(t[1]=a=>r.viewMode=a),mandatory:"",dense:""},{default:n(()=>[l(F,{value:"list"},{default:n(()=>[l(g,null,{default:n(()=>t[6]||(t[6]=[d("mdi-view-list")])),_:1})]),_:1}),l(F,{value:"grid"},{default:n(()=>[l(g,null,{default:n(()=>t[7]||(t[7]=[d("mdi-view-grid")])),_:1})]),_:1})]),_:1},8,["modelValue"]),l(Re,{"offset-y":""},{activator:n(({on:a,attrs:u})=>[l(F,B({icon:"",class:"ml-2"},u,Me(a)),{default:n(()=>[l(g,null,{default:n(()=>t[8]||(t[8]=[d("mdi-sort")])),_:1})]),_:2},1040)]),default:n(()=>[l(H,null,{default:n(()=>[(m(!0),w(E,null,L(r.sortOptions,a=>(m(),C(z,{key:a.value,onClick:u=>r.sortBy=a.value},{default:n(()=>[l(N,null,{default:n(()=>[d(b(a.text)+" ",1),r.sortBy===a.value?(m(),C(g,{key:0,small:"",class:"ml-2"},{default:n(()=>t[9]||(t[9]=[d(" mdi-check ")])),_:1})):W("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),l(A,null,{default:n(()=>[l(Ge,{items:o.breadcrumbItems},{divider:n(()=>[l(g,null,{default:n(()=>t[11]||(t[11]=[d("mdi-chevron-right")])),_:1})]),item:n(({item:a})=>[l(le,{text:a.text,onClick:u=>o.navigateTo(a.path),class:ze({"primary--text":!0})},null,8,["text","onClick"])]),_:1},8,["items"]),r.viewMode==="list"?(m(),C(H,{key:0},{default:n(()=>[(m(!0),w(E,null,L(o.sortedContent.folders,a=>(m(),C(z,{key:a.path,onClick:u=>o.openFolder(a.path),class:"rounded-lg mb-2"},{default:n(()=>[l(c,null,{default:n(()=>[l(g,{color:"amber"},{default:n(()=>t[12]||(t[12]=[d("mdi-folder")])),_:1})]),_:1}),l(y,null,{default:n(()=>[l(N,null,{default:n(()=>[d(b(a.name),1)]),_:2},1024)]),_:2},1024),l(X,null,{default:n(()=>[l(g,null,{default:n(()=>t[13]||(t[13]=[d("mdi-chevron-right")])),_:1})]),_:1})]),_:2},1032,["onClick"]))),128)),(m(!0),w(E,null,L(o.sortedContent.files,a=>(m(),C(z,{key:a.path,class:"rounded-lg mb-2",onClick:u=>o.previewFile(a)},{default:n(()=>[l(c,null,{default:n(()=>[l(g,{color:o.getFileIconColor(a.name)},{default:n(()=>[d(b(o.getFileIcon(a.name)),1)]),_:2},1032,["color"])]),_:2},1024),l(y,null,{default:n(()=>[l(N,null,{default:n(()=>[d(b(a.name),1)]),_:2},1024),l(Ne,null,{default:n(()=>[d(b(o.getFileType(a.name)),1)]),_:2},1024)]),_:2},1024),l(X,null,{default:n(()=>[l(F,{color:"primary",text:"",href:a.path,download:"",onClick:t[2]||(t[2]=q(()=>{},["stop"]))},{default:n(()=>[l(g,{left:""},{default:n(()=>t[14]||(t[14]=[d("mdi-download")])),_:1}),t[15]||(t[15]=d(" Download "))]),_:2},1032,["href"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):(m(),C(Z,{key:1},{default:n(()=>[l(je,null,{default:n(()=>[(m(!0),w(E,null,L(o.sortedContent.folders,a=>(m(),C(G,{key:a.path,cols:"12",sm:"6",md:"4",lg:"3"},{default:n(()=>[l(R,{outlined:"",hover:"",onClick:u=>o.openFolder(a.path),class:"mx-auto"},{default:n(()=>[l(A,{class:"text-center"},{default:n(()=>[l(g,{size:"64",color:"amber"},{default:n(()=>t[16]||(t[16]=[d("mdi-folder")])),_:1}),_("div",et,b(a.name),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128)),(m(!0),w(E,null,L(o.sortedContent.files,a=>(m(),C(G,{key:a.path,cols:"12",sm:"6",md:"4",lg:"3"},{default:n(()=>[l(R,{outlined:"",hover:"",class:"mx-auto"},{default:n(()=>[l(A,{class:"text-center"},{default:n(()=>[l(g,{size:"64",color:o.getFileIconColor(a.name),onClick:u=>o.previewFile(a)},{default:n(()=>[d(b(o.getFileIcon(a.name)),1)]),_:2},1032,["color","onClick"]),_("div",tt,b(a.name),1),l(F,{text:"",small:"",color:"primary",href:a.path,download:"",class:"mt-2",onClick:t[3]||(t[3]=q(()=>{},["stop"]))},{default:n(()=>[l(g,{left:"",small:""},{default:n(()=>t[17]||(t[17]=[d("mdi-download")])),_:1}),t[18]||(t[18]=d(" Download "))]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})),o.isEmpty?(m(),C(Z,{key:2,class:"text-center py-8"},{default:n(()=>[l(g,{size:"64",color:"grey lighten-1"},{default:n(()=>t[19]||(t[19]=[d("mdi-folder-open")])),_:1}),_("div",lt,b(r.searchQuery?"No matching files found":"This folder is empty"),1)]),_:1})):W("",!0)]),_:1}),l(Ke,{modelValue:r.previewDialog,"onUpdate:modelValue":t[5]||(t[5]=a=>r.previewDialog=a),"max-width":"80vw","max-height":"90vh"},{default:n(()=>[l(R,null,{default:n(()=>[l(J,{class:"headline"},{default:n(()=>{var a;return[d(b((a=r.selectedFile)==null?void 0:a.name)+" ",1),l(K),l(F,{icon:"",onClick:t[4]||(t[4]=u=>r.previewDialog=!1)},{default:n(()=>[l(g,null,{default:n(()=>t[20]||(t[20]=[d("mdi-close")])),_:1})]),_:1})]}),_:1}),l(A,null,{default:n(()=>{var a,u;return[_("div",at,[o.isPreviewablePDF?(m(),w("iframe",{key:0,src:(a=r.selectedFile)==null?void 0:a.path,width:"100%",height:"600",frameborder:"0"},null,8,nt)):o.isPreviewableImage?(m(),C(Qe,{key:1,src:(u=r.selectedFile)==null?void 0:u.path,contain:"","max-height":"600"},null,8,["src"])):o.isPreviewableText?(m(),C(Ye,{key:2,class:"pa-4","max-height":"600","overflow-y":"auto"},{default:n(()=>[_("pre",null,b(r.fileContent),1)]),_:1})):(m(),w("div",st,[l(g,{size:"64",color:"grey lighten-1"},{default:n(()=>t[21]||(t[21]=[d("mdi-file-eye")])),_:1}),t[22]||(t[22]=_("div",{class:"text-h6 grey--text text--darken-1 mt-4"}," Preview not available for this file type ",-1))]))])]}),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const ct=Te($e,[["render",rt],["__scopeId","data-v-558f03e3"]]);export{ct as default,dt as fileStructure};
